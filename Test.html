<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Latest Instagram Post</title>
</head>
<body>
    <div id="instagram-post">
        <!-- Instagram post will be embedded here -->
    </div>

    <script>
        // JavaScript to fetch and embed the latest Instagram post
        async function fetchLatestInstagramPost() {
            try {
                // Replace 'ACCESS_TOKEN' with your valid access token
                const accessToken = 'ACCESS_TOKEN';
                const userId = 'USER_ID'; // Replace with the Instagram user ID

                // Fetch the latest media
                const mediaResponse = await fetch(`https://graph.instagram.com/${userId}/media?fields=id,caption,media_type,media_url,permalink,timestamp&access_token=${accessToken}`);
                const mediaData = await mediaResponse.json();

                if (mediaData.data && mediaData.data.length > 0) {
                    const latestMedia = mediaData.data[0];

                    let embedHtml = '';

                    // Check the media type and create appropriate embed code
                    if (latestMedia.media_type === 'IMAGE') {
                        embedHtml = `<a href="${latestMedia.permalink}" target="_blank"><img src="${latestMedia.media_url}" alt="${latestMedia.caption}" style="max-width:100%;"></a>`;
                    } else if (latestMedia.media_type === 'VIDEO') {
                        embedHtml = `<video controls style="max-width:100%;"><source src="${latestMedia.media_url}" type="video/mp4">Your browser does not support the video tag.</video>`;
                    } else if (latestMedia.media_type === 'CAROUSEL_ALBUM') {
                        // For carousel albums, you might want to fetch all children and display them
                        const childrenResponse = await fetch(`https://graph.instagram.com/${latestMedia.id}/children?fields=media_type,media_url&access_token=${accessToken}`);
                        const childrenData = await childrenResponse.json();

                        for (const child of childrenData.data) {
                            if (child.media_type === 'IMAGE') {
                                embedHtml += `<img src="${child.media_url}" alt="" style="max-width:100%;">`;
                            } else if (child.media_type === 'VIDEO') {
                                embedHtml += `<video controls style="max-width:100%;"><source src="${child.media_url}" type="video/mp4">Your browser does not support the video tag.</video>`;
                            }
                        }
                    }

                    document.getElementById('instagram-post').innerHTML = embedHtml;
                } else {
                    document.getElementById('instagram-post').innerHTML = 'No posts found.';
                }
            } catch (error) {
                console.error('Error fetching Instagram post:', error);
                document.getElementById('instagram-post').innerHTML = 'Failed to load Instagram post.';
            }
        }

        // Call the function to fetch and embed the latest Instagram post
        fetchLatestInstagramPost();
    </script>
</body>
</html>

